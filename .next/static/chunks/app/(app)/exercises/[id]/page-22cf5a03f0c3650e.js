(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},1847:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:d=2,absoluteStrokeWidth:n,className:o="",children:c,iconNode:x,...m}=e;return(0,a.createElement)("svg",{ref:t,...l,width:r,height:r,stroke:s,strokeWidth:n?24*Number(d)/Number(r):d,className:i("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),n=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:n,...o}=s;return(0,a.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...o})});return s.displayName=r(e),s}},2309:(e,t,s)=>{Promise.resolve().then(s.bind(s,6643))},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5921:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},6643:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),r=s(2115),i=s(2454),l=s(63),d=s(2619),n=s.n(d),o=s(5626),c=s(5921),x=s(7937);let m="rounded-2xl border border-v-dark/10 bg-v-white p-4 md:p-5 shadow-soft dark:bg-[#0b1a33] dark:border-white/10",h="rounded-full bg-v-ceil/15 px-2 py-1 text-[11px] leading-5 text-v-dark/85 dark:bg-v-ceil/25 dark:text-white/90";function u(){var e,t;let s=(0,l.useParams)(),r=Array.isArray(s.id)?s.id[0]:s.id,{data:d,isLoading:u,isError:b,error:p,refetch:f}=(0,i.I)({queryKey:["exercise",r],queryFn:async e=>{let{signal:t}=e,s=await fetch("/api/exercises?id="+r,{cache:"no-store",signal:t});if(!s.ok)throw Error("HTTP ".concat(s.status));return await s.json()},staleTime:3e4});return u?(0,a.jsx)(g,{}):b||!d?(0,a.jsxs)("section",{className:"py-6 md:py-8 pb-28 md:pb-16",children:[(0,a.jsxs)(n(),{href:"/exercises",className:"inline-flex items-center gap-2 text-sm text-v-dark/70 hover:text-v-dark dark:text-white/70 dark:hover:text-white",children:[(0,a.jsx)(o.A,{className:"h-4 w-4","aria-hidden":"true"}),"Back"]}),(0,a.jsxs)("div",{className:"".concat(m," mt-4"),children:[(0,a.jsx)("h2",{className:"font-manrope text-lg md:text-xl font-semibold text-v-dark dark:text-white",children:"Couldnâ€™t load exercise"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-v-dark/75 dark:text-white/75",children:null!=(e=null==p?void 0:p.message)?e:"Unknown error"}),(0,a.jsx)("button",{onClick:()=>f(),className:"mt-3 inline-flex items-center gap-2 rounded-xl bg-v-ceil px-4 py-2 text-sm font-semibold text-white focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-v-ceil/30",children:"Retry"})]})]}):(0,a.jsxs)("section",{className:"py-6 md:py-8 pb-28 md:pb-16",children:[(0,a.jsxs)(n(),{href:"/exercises",className:"inline-flex items-center gap-2 text-sm text-v-dark/70 hover:text-v-dark dark:text-white/70 dark:hover:text-white",children:[(0,a.jsx)(o.A,{className:"h-4 w-4","aria-hidden":"true"}),"Back"]}),(0,a.jsxs)("header",{className:"mt-3 grid items-start gap-4 md:grid-cols-[minmax(0,1fr)_auto]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-manrope text-[28px] md:text-3xl lg:text-[34px] font-extrabold text-v-dark dark:text-white",children:d.title}),(0,a.jsx)("p",{className:"mt-1 max-w-[68ch] text-sm md:text-base text-v-dark/80 dark:text-white/80",children:d.description}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,a.jsx)("span",{className:h,children:d.category}),(0,a.jsx)("span",{className:h,children:d.level}),(d.durationLabel||d.duration)&&(0,a.jsx)("span",{className:"rounded-full bg-v-dark/5 px-2 py-1 text-[11px] leading-5 text-v-dark/70 dark:bg-white/10 dark:text-white/80",children:null!=(t=d.durationLabel)?t:"".concat(d.duration,"m")})]})]}),(0,a.jsx)("div",{className:"md:justify-self-end md:self-start",children:(0,a.jsxs)(n(),{href:"/exercises/".concat(d.id,"?tab=tutorial"),className:"group inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-[#6592E1] to-[#81B1E6] px-4 md:px-5 py-2.5 text-sm font-semibold text-white shadow-[0_8px_24px_rgba(101,146,225,0.35)] motion-safe:transition-all motion-safe:hover:-translate-y-0.5 motion-safe:hover:shadow-[0_12px_28px_rgba(101,146,225,0.45)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-v-ceil/40","aria-label":"Watch tutorial",children:[(0,a.jsx)("span",{className:"inline-grid place-items-center rounded-full bg-white/15 p-1.5","aria-hidden":"true",children:(0,a.jsx)(c.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("span",{children:"Watch Tutorial"}),(0,a.jsx)(x.A,{className:"h-4 w-4 opacity-80 group-hover:translate-x-0.5 motion-safe:transition-transform","aria-hidden":!0})]})})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-5 lg:grid-cols-[minmax(0,1fr)_380px] lg:items-stretch",children:[(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("section",{className:m,"aria-labelledby":"howto-title",children:[(0,a.jsx)("h2",{id:"howto-title",className:"font-manrope text-lg md:text-xl font-semibold text-v-dark dark:text-white",children:"How to do it"}),(0,a.jsx)("ol",{className:"mt-3 list-decimal space-y-2 pl-5 text-[13px] md:text-sm leading-6 text-v-dark/85 dark:text-white/85",children:d.steps.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),(0,a.jsxs)("section",{className:m,"aria-labelledby":"benefits-title",children:[(0,a.jsx)("h2",{id:"benefits-title",className:"font-manrope text-lg md:text-xl font-semibold text-v-dark dark:text-white",children:"Benefits"}),(0,a.jsx)("ul",{className:"mt-3 list-disc space-y-2 pl-5 text-[13px] md:text-sm leading-6 text-v-dark/85 dark:text-white/85",children:d.benefits.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]})]}),(0,a.jsx)("div",{className:"self-stretch",children:(0,a.jsx)(v,{ex:d})})]})]})}function v(e){let{ex:t}=e;return(0,a.jsxs)("section",{className:"".concat(m," h-full flex flex-col"),"aria-labelledby":"session-title",children:[(0,a.jsx)("h2",{id:"session-title",className:"font-manrope text-lg md:text-xl font-semibold text-v-dark dark:text-white",children:"Session"}),(0,a.jsx)("p",{className:"mt-1 text-[13px] md:text-sm text-v-dark/75 dark:text-white/75",children:"Follow the guide below. You can adjust pace as needed."}),"timer"===t.mode&&(0,a.jsx)(b,{ex:t}),"interval"===t.mode&&(0,a.jsx)(p,{ex:t}),"reps"===t.mode&&(0,a.jsx)(f,{ex:t}),"info"===t.mode&&(0,a.jsxs)("div",{className:"mt-4 flex flex-1 flex-col",children:[(0,a.jsx)("p",{className:"text-[13px] md:text-sm text-v-dark/75 dark:text-white/75",children:"This is an instruction-only exercise. Follow the steps above at your pace."}),(0,a.jsx)(n(),{href:"/dashboard",className:"mt-auto inline-flex items-center justify-center rounded-xl bg-v-ceil px-4 py-2 text-sm font-semibold text-white hover:opacity-90 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-v-ceil/30",children:"Mark as Done"})]})]})}function b(e){var t,s;let{ex:i}=e,l=null!=(s=i.timerSeconds)?s:60,[d,n]=(0,r.useState)(l),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!o)return;let e=setInterval(()=>n(e=>Math.max(0,e-1)),1e3);return()=>clearInterval(e)},[o]);let x=(0,r.useMemo)(()=>{var e;return null!=(e=i.timerSeconds)?e:l},[i.timerSeconds,l]),m=x-d,h=x?Math.round(m/x*100):0,u=(0,r.useId)();return(0,a.jsxs)("div",{className:"mt-4 flex flex-1 flex-col",children:[(null==(t=i.optionsSeconds)?void 0:t.length)?(0,a.jsx)("div",{className:"mb-3 flex flex-wrap items-center gap-2",role:"radiogroup","aria-label":"Duration",children:i.optionsSeconds.map(e=>{let t=d===e&&!o;return(0,a.jsxs)("button",{role:"radio","aria-checked":t,tabIndex:t?0:-1,onClick:()=>{c(!1),n(e)},className:"rounded-full px-3 py-1.5 text-sm outline-none transition "+(t?"bg-v-ceil text-white ring-4 ring-v-ceil/25":"bg-v-dark/5 text-v-dark hover:bg-v-dark/10 dark:bg-white/10 dark:text-white/90 dark:hover:bg-white/20 focus-visible:ring-4 focus-visible:ring-v-ceil/30"),children:[Math.round(e/60),"m"]},e)})}):null,(0,a.jsxs)("div",{className:"flex items-center justify-between text-[13px] md:text-sm",children:[(0,a.jsx)("label",{htmlFor:u,className:"text-v-dark/75 dark:text-white/75",children:"Progress"}),(0,a.jsx)("span",{className:"text-v-dark dark:text-white","aria-live":"polite",children:function(e){let t=Math.floor(e/60),s=String(e%60).padStart(2,"0");return"".concat(t,":").concat(s)}(d)})]}),(0,a.jsx)("div",{id:u,role:"progressbar","aria-valuemin":0,"aria-valuemax":x,"aria-valuenow":m,className:"mt-2 h-4 w-full overflow-hidden rounded-full bg-v-dark/10 dark:bg-white/10",children:(0,a.jsx)("div",{className:"h-full bg-v-ceil motion-safe:transition-all",style:{width:"".concat(h,"%")}})}),(0,a.jsxs)("div",{className:"mt-4 flex gap-2 pt-1 md:pt-2 mt-auto",children:[(0,a.jsx)("button",{onClick:()=>c(e=>!e),className:"rounded-xl bg-v-ceil px-4 py-2 text-sm font-semibold text-white hover:opacity-90 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-v-ceil/30","aria-pressed":o,children:o?"Pause":"Start"}),(0,a.jsx)("button",{onClick:()=>{c(!1),n(l)},className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-v-dark ring-1 ring-v-dark/10 hover:bg-v-dark/5 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-white/10",children:"Reset"})]})]})}function p(e){var t,s,i,l,d;let{ex:n}=e,o=null!=(s=n.intervals)?s:[],c=null!=(i=n.cycles)?i:1,[x,m]=(0,r.useState)(1),[h,u]=(0,r.useState)(0),[v,b]=(0,r.useState)(null!=(l=null==(t=o[0])?void 0:t.seconds)?l:0),[p,f]=(0,r.useState)(!1),g=o[h];(0,r.useEffect)(()=>{if(!p||!g)return;let e=setInterval(()=>{b(e=>e>1?e-1:h<o.length-1?(u(e=>e+1),o[h+1].seconds):x<c?(m(e=>e+1),u(0),o[0].seconds):(f(!1),0))},1e3);return()=>clearInterval(e)},[p,h,o,x,c,g]);let k=o.reduce((e,t)=>e+t.seconds,0),w=k*c,j=()=>{var e;return(x-1)*k+(o.slice(0,h).reduce((e,t)=>e+t.seconds,0)+((null!=(e=null==g?void 0:g.seconds)?e:0)-v))},N=w?Math.min(100,Math.round(j()/w*100)):0,y=(0,r.useId)();return(0,a.jsxs)("div",{className:"mt-4 flex flex-1 flex-col",children:[(0,a.jsxs)("div",{className:"rounded-xl bg-v-ceil/12 p-3 text-[13px] md:text-sm dark:bg-v-ceil/20","aria-live":"polite",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium text-v-dark dark:text-white",children:null!=(d=null==g?void 0:g.label)?d:"Ready"}),(0,a.jsxs)("span",{className:"text-v-dark dark:text-white",children:[v,"s"]})]}),(0,a.jsxs)("p",{className:"mt-1 text-[12px] md:text-xs text-v-dark/75 dark:text-white/75",children:["Cycle ",x," of ",c]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[13px] md:text-sm",children:[(0,a.jsx)("label",{htmlFor:y,className:"text-v-dark/75 dark:text-white/75",children:"Progress"}),(0,a.jsxs)("span",{className:"text-v-dark dark:text-white",children:[j()," / ",w,"s"]})]}),(0,a.jsx)("div",{id:y,role:"progressbar","aria-valuemin":0,"aria-valuemax":w,"aria-valuenow":j(),className:"mt-2 h-4 w-full overflow-hidden rounded-full bg-v-dark/10 dark:bg-white/10",children:(0,a.jsx)("div",{className:"h-full bg-v-ceil motion-safe:transition-all",style:{width:"".concat(N,"%")}})})]}),(0,a.jsxs)("div",{className:"mt-4 flex gap-2 pt-1 md:pt-2 mt-auto",children:[(0,a.jsx)("button",{onClick:()=>{!p&&0===v&&o.length&&b(o[0].seconds),f(e=>!e)},className:"rounded-xl bg-v-ceil px-4 py-2 text-sm font-semibold text-white hover:opacity-90 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-v-ceil/30","aria-pressed":p,children:p?"Pause":"Start"}),(0,a.jsx)("button",{onClick:()=>{var e,t;f(!1),m(1),u(0),b(null!=(t=null==(e=o[0])?void 0:e.seconds)?t:0)},className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-v-dark ring-1 ring-v-dark/10 hover:bg-v-dark/5 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-white/10",children:"Reset"})]})]})}function f(e){var t;let{ex:s}=e,i=null!=(t=s.reps)?t:10,[l,d]=(0,r.useState)(0),n=Math.min(100,Math.round(l/i*100)),o=(0,r.useId)();return(0,a.jsxs)("div",{className:"mt-4 flex flex-1 flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[13px] md:text-sm",children:[(0,a.jsx)("label",{htmlFor:o,className:"text-v-dark/75 dark:text-white/75",children:"Reps"}),(0,a.jsxs)("span",{className:"text-v-dark dark:text-white",children:[l," / ",i]})]}),(0,a.jsx)("div",{id:o,role:"progressbar","aria-valuemin":0,"aria-valuemax":i,"aria-valuenow":l,className:"mt-2 h-4 w-full overflow-hidden rounded-full bg-v-dark/10 dark:bg-white/10",children:(0,a.jsx)("div",{className:"h-full bg-v-ceil motion-safe:transition-all",style:{width:"".concat(n,"%")}})}),(0,a.jsxs)("div",{className:"mt-4 flex gap-2 pt-1 md:pt-2 mt-auto",children:[(0,a.jsx)("button",{onClick:()=>d(e=>Math.min(i,e+1)),className:"flex-1 rounded-xl bg-v-ceil px-4 py-3 text-sm font-semibold text-white hover:opacity-90 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-v-ceil/30",children:"+1 Rep"}),(0,a.jsx)("button",{onClick:()=>d(0),className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-v-dark ring-1 ring-v-dark/10 hover:bg-v-dark/5 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-white/10",children:"Reset"})]})]})}function g(){return(0,a.jsxs)("section",{className:"py-6 md:py-8 pb-28 md:pb-16",children:[(0,a.jsx)("div",{className:"h-4 w-24 rounded bg-v-dark/10 dark:bg-white/10"}),(0,a.jsxs)("div",{className:"mt-3 grid items-start gap-4 md:grid-cols-[minmax(0,1fr)_auto]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-8 w-56 rounded bg-v-dark/10 dark:bg-white/10"}),(0,a.jsx)("div",{className:"mt-2 h-4 w-3/4 rounded bg-v-dark/10 dark:bg-white/10"}),(0,a.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-20 rounded-full bg-v-dark/10 dark:bg-white/10"}),(0,a.jsx)("div",{className:"h-6 w-20 rounded-full bg-v-dark/10 dark:bg-white/10"}),(0,a.jsx)("div",{className:"h-6 w-12 rounded-full bg-v-dark/10 dark:bg-white/10"})]})]}),(0,a.jsx)("div",{className:"h-10 w-44 rounded-xl bg-v-dark/10 dark:bg-white/10"})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-5 lg:grid-cols-[minmax(0,1fr)_380px]",children:[(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("div",{className:"h-48 rounded-2xl border border-v-dark/10 bg-v-white dark:bg-[#0b1a33] dark:border-white/10"}),(0,a.jsx)("div",{className:"h-32 rounded-2xl border border-v-dark/10 bg-v-white dark:bg-[#0b1a33] dark:border-white/10"})]}),(0,a.jsx)("div",{className:"h-64 rounded-2xl border border-v-dark/10 bg-v-white dark:bg-[#0b1a33] dark:border-white/10"})]})]})}},7937:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{e.O(0,[619,743,454,441,255,358],()=>e(e.s=2309)),_N_E=e.O()}]);